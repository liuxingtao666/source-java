昨天讲的内容都是匿名代码块，只能编译并运行一次，
不能存储在Oracle上。若想存储并复用代码，需要创建
存储过程、函数、触发器。

一、存储过程
	1、什么是存储过程
		封装了一段PLSQL程序，并提供参数允许输入/输出
		值，这样的有名称的程序称之为存储过程。
		一般情况下，希望使用PLSQL对数据库进行增删改
		的操作时考虑使用存储过程。如果仅仅是希望使用
		PLSQL进行查询的话，考虑使用函数或试图。
	2、语法
		1）创建存储过程
			create [or replace] procedure 过程名
			[(参数1 类型，参数2 类型，...)]
			is|as
				--声明变量区
			begin
				--逻辑处理区
			end;
			/
		2）调用存储过程
			--直接调用
				call 过程名(参数1，参数2，...);
			--PLSQL中调用
				过程名(参数1，参数2，...);
			--Java调用
				后面讲
	3、练习1，存储过程之HelloWorld
	4、练习2，创建存储过程，传入年龄，统计工资合计
	5、练习3，根据员工ID输出员工名和薪资
	6、存储过程如何返回结果
		1）存储过程使用参数来返回结果，需要在定义
			参数时指定参数的属性
		2）语法
			参数名 [in|out|in out] 类型
		3）属性的含义
			--in
				输入参数，只能通过该参数传入内容，不能
				通过参数返回结果。默认的情况下，参数的
				属性是in。
			--out
				输出参数，只能通过该参数传出内容，不能
				通过参数输入内容。
			--in out
				既是输入参数，又是输出参数。
	7、练习4，传入2个整数，传出其合计值和差值
	8、练习5，自动将临时表数据同步至service表

二、函数
	1、Oracle本身预置了很多的函数，如日期函数、
		字符串函数、数值函数等，当这些预置的函数无法
		满足业务要求时，我们可以自定义函数来解决问题。
	2、语法
		create [or replace] function 函数名
		(参数1 类型，参数2 类型，...)
		return 类型
		is
			--变量声明区
		begin
			--业务处理区
			return 值;
		end;
		/
	3、练习6，山寨sign函数
	
	4、练习7，比较2个员工薪资高低
	
	5、练习8，根据年龄计算员工薪资合计
	
	6、函数的参数也有in、out、in out属性，其规则
		与存储过程一样。
	
	7、练习9，计算2个数字的和，并返回这两个数字
	
	8、如何选择存储过程或函数
		1）如果要进行DML操作，选择存储过程
		2）如果没有DML操作，考虑选择函数

三、触发器
	1、什么是触发器
		是Oracle在发生某些事件时，可以自动触发并调用
		的PLSQL程序。可以定义在事件上，由事件自动
		触发。
	2、触发器的分类
		1）系统触发器
			由系统事件触发的PLSQL程序，比如登录Oracle、
			登出Oracle。
		*2）DML触发器
			由DML语句触发的PLSQL程序，如增删改。
	3、DML触发器
		1）语句级触发器
			a、如果执行完一条DML语句后，希望对整张表
				的数据进行预算，使用语句级触发器，这种
				触发器是在DML执行前/后自动触发的。
			b、语法
				create [or replace] trigger 触发器名
				before|after insert|update|delete on 表
				declare
					--声明变量
				begin
					--处理业务
				end;
				/
				注：触发器自动调用，在DML语句执行之前
					或之后。
			c、练习10，在进行任何增删改操作后，计算出
				员工数、员工薪资合计、员工平均工资。
		2）行级触发器
			a、如果在执行DML时，希望对当前操作的数据
				进行处理，那么可以使用行级触发器。行级
				触发器也是在执行DML之前/之后自动触发
				的，在行级触发器中可以使用行变量引用到
				DML所操作的数据，这个行变量是内置的，
				可以直接使用。
			b、行变量
				--:new
					表示引用的是新增后的行数据
				--:old
					表示引用的是修改/删除前的行数据
				--规则
					insert语句只有:new，表示插入后的新数据。
					delete语句只有:old，表示删除前的旧数据。
					update语句既有:new也有:old，其中
					:new表示修改后的数据，:old表示修改
					前的数据。
			c、语法
				create or replace trigger 触发器名
				before|after insert|update|delete on 表
				for each row
				declare
					--声明变量
				begin
					--处理业务
				end;
				/
			d、练习11，删除emp之前，将删除记录存入备份表

四、异常处理
	1、Oracle底层定义了很多异常，每个异常都有一个唯一
	的编码。这些异常之中，有一些是比较常见的，Oracle
	给这些异常定义了名称，可以直接使用，其他没有
	名称只有编码的不能直接使用。
	2、异常的分类
		1）预定义异常
			既有编码又有名称的异常是预定义异常，此类
			异常可以直接使用。
		2）非预定义异常
			有编码但没有名称的异常是非预定义异常，此类
			异常不能直接使用，要想使用需要先声明一个
			异常名与编码绑定。
		3）自定义异常
			既没有编码又没有名称的异常是自定义异常，
			此类异常需要我们自己定义。
	3、异常的使用
		1）预定义异常的使用
			a、语法
				exception
					when 异常名 then
					--异常处理
			b、练习12，使用too_many_rows预定义异常
		2）非预定义异常的使用
		3）自定义异常的使用

五、Java调用存储过程
